<!DOCTYPE html>
<html lang="en">
<head>
        <title>SeenPlugin (kameloso.plugins.seen.SeenPlugin)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>kameloso IRC bot</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>SeenPlugin</h1><div class="breadcrumbs"><a class="breadcrumb" href="kameloso.html">kameloso</a> <a class="breadcrumb" href="kameloso.plugins.html">plugins</a> <a class="breadcrumb" href="kameloso.plugins.seen.html">seen</a> </div><div><div class="documentation-comment synopsis"><div><p>This is your plugin to the outside world, usually the only thing publicly visible in the
    entire module. It only serves as a way of proxying calls to our top-level
    private functions, as well as to house plugin-specific and -private variables that we want
    to keep out of top-level scope for the sake of modularity. If the only state
    is in the plugin, several plugins of the same kind can technically be run
    alongside each other, which would allow for several bots to be run in
    parallel. This is not yet supported but there's fundamentally nothing stopping it.</p><p>As such it houses this plugin's *state*, notably its instance of
    <a class="xref" href="kameloso.plugins.seen.SeenSettings.html">SeenSettings</a> and its <a class="xref" href="kameloso.plugins.IRCPluginState.html">IRCPluginState</a>.</p><p>The <a class="xref" href="kameloso.plugins.IRCPluginState.html">IRCPluginState</a> is a struct housing various
    variables that together make up the plugin's state. This is additionally where
    information is kept about the bot, the server, and some other meta-things
    about the program.</p><p>We don't declare it here; we will mix it in later with the
    <a class="xref" href="kameloso.plugins.IRCPluginImpl.html">IRCPluginImpl</a> mixin.</p><pre class="d_code highlighted"><span class="kwrd">struct</span> <span class="hid">IRCPluginState</span>
{
    <span class="hid">IRCClient</span> <span class="hid">client</span>;
    <span class="hid">IRCServer</span> <span class="hid">server</span>;
    <span class="hid">IRCBot</span> <span class="hid">bot</span>;
    <span class="hid">CoreSettings</span> <span class="hid">coreSettings</span>;
    <span class="hid">ConnectionSettings</span> <span class="hid">connSettings</span>;
    <span class="hid">IRCUser</span>[<span class="type">string</span>] <span class="hid">users</span>;
    <span class="hid">IRCChannel</span>[<span class="type">string</span>] <span class="hid">channels</span>;
    <span class="hid">Replay</span>[][<span class="type">string</span>] <span class="hid">pendingReplays</span>;
    <span class="type">bool</span> <span class="hid">hasPendingReplays</span>;
    <span class="hid">Replay</span>[] <span class="hid">readyReplays</span>;
    <span class="hid">Fiber</span>[][] <span class="hid">awaitingFibers</span>;
    <span class="type">void</span> <span class="kwrd">delegate</span>(<span class="hid">IRCEvent</span>)[][] <span class="hid">awaitingDelegates</span>;
    <span class="hid">ScheduledFiber</span>[] <span class="hid">scheduledFibers</span>;
    <span class="hid">ScheduledDelegate</span>[] <span class="hid">scheduledDelegates</span>;
    <span class="hid">Update</span> <span class="hid">updates</span>;
    <span class="type">bool</span>* <span class="hid">abort</span>;
    <span class="hid">DeferredAction</span>[] <span class="hid">deferredActions</span>;
    <span class="hid">ThreadMessage</span>[] <span class="hid">messages</span>;
    <span class="hid">ThreadMessage</span>[] <span class="hid">priorityMessages</span>;
    <span class="hid">Message</span>[] <span class="hid">outgoingMessages</span>;
}</pre><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.client.html">IRCPluginState.client</a>
    houses information about the client itself, such as your nickname and
    other things related to an IRC client.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.server.html">IRCPluginState.server</a>
    houses information about the server you're connected to.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.bot.html">IRCPluginState.bot</a> houses
    information about things that relate to an IRC bot, like which channels
    to join, which home channels to operate in, the list of administrator accounts, etc.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.coreSettings.html">IRCPluginState.coreSettings</a>
    is a copy of the &quot;global&quot; <a class="xref" href="kameloso.pods.CoreSettings.html">CoreSettings</a>,
    which contains information about how the bot should output text, whether
    or not to always save to disk upon program exit, and some other program-wide settings.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.connSettings.html">IRCPluginState.connSettings</a>
    is like <a class="xref" href="kameloso.plugins.IRCPluginState.coreSettings.html">IRCPluginState.coreSettings</a>,
    except for values relating to the connection to the server; whether to
    use IPv6, paths to any certificates, and the such.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.users.html">IRCPluginState.users</a>
    is an associative array keyed with users' nicknames. The value to that key is an
    <a class="xref" href="dialect.defs.IRCUser.html">IRCUser</a> representing that user in terms of nickname,
    address, ident, services account name, and much more. This is a way to keep track of
    users by more than merely their name. It is however not saved at the end
    of the program; as everything else it is merely state and transient.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.channels.html">IRCPluginState.channels</a>
    is another associative array, this one with all the known channels keyed
    by their names. This way we can access detailed information about any
    known channel, given only their name.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.pendingReplays.html">IRCPluginState.pendingReplays</a>
    is also an associative array into which we place <a class="xref" href="kameloso.plugins.Replay.html">Replay</a>s.
    The main loop will pick up on these and call WHOIS on the nickname in the key.
    A <a class="xref" href="kameloso.plugins.Replay.html">Replay</a> is otherwise just an
    <a class="xref" href="dialect.defs.IRCEvent.html">IRCEvent</a> to be played back when the WHOIS results
    return, as well as a delegate that invokes the function that was originally
    to be called. Constructing a <a class="xref" href="kameloso.plugins.Replay.html">Replay</a> is
    all wrapped in a function <a class="xref" href="kameloso.plugins.enqueue.html">enqueue</a>, with the
    queue management handled behind the scenes.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.hasPendingReplays.html">IRCPluginState.hasPendingReplays</a>
    is merely a bool of whether or not there currently are any
    <a class="xref" href="kameloso.plugins.Replay.html">Replay</a>s in
    <a class="xref" href="kameloso.plugins.IRCPluginState.pendingReplays.html">IRCPluginState.pendingReplays</a>,
    cached to avoid associative array length lookups.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.readyReplays.html">IRCPluginState.readyReplays</a>
    is an array of <a class="xref" href="kameloso.plugins.Replay.html">Replay</a>s that have
    seen their WHOIS request issued and the result received. Moving one from
    <a class="xref" href="kameloso.plugins.IRCPluginState.pendingReplays.html">IRCPluginState.pendingReplays</a></p><p>to <a class="xref" href="kameloso.plugins.IRCPluginState.readyReplays.html">IRCPluginState.readyReplays</a>
    will make the main loop pick it up, *update* the <a class="xref" href="dialect.defs.IRCEvent.html">IRCEvent</a>
    stored within it with what we now know of the sender and/or target, and
    then replay the event by invoking its delegate.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.awaitingFibers.html">IRCPluginState.awaitingFibers</a>
    is an array of <a class="xref" href="core.thread.fiber.Fiber.html">Fiber</a>s indexed by <a class="xref" href="dialect.defs.IRCEvent.Type.html">dialect.defs.IRCEvent.Type</a>s'
    numeric values. Fibers in the array of a particular event type will be
    executed the next time such an event is incoming. Think of it as fiber callbacks.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.awaitingDelegates.html">IRCPluginState.awaitingDelegates</a>
    is literally an array of callback delegates, to be triggered when an event
    of a matching type comes along.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.scheduledFibers.html">IRCPluginState.scheduledFibers</a>
    is also an array of <a class="xref" href="core.thread.fiber.Fiber.html">Fiber</a>s, but not one keyed
    on or indexed by event types. Instead they are tuples of a
    <a class="xref" href="core.thread.fiber.Fiber.html">Fiber</a> and a <tt class="inline-code">long</tt> timestamp of when they should be run.
    Use <a class="xref" href="kameloso.plugins.common.scheduling.delay.html">delay</a> to enqueue.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.scheduledDelegates.html">IRCPluginState.scheduledDelegates</a>
    is likewise an array of delegates, to be triggered at a later point in time.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.updates.html">IRCPluginState.updates</a>
    is a bitfield which represents what aspect of the bot was *changed*
    during processing or postprocessing. If any of the bits are set, represented
    by the enum values of <a class="xref" href="kameloso.plugins.IRCPluginState.html#Updates">IRCPluginState.Updates</a>,
    the main loop will pick up on it and propagate it to other plugins.
    If these flags are not set, changes will never leave the plugin and may
    be overwritten by other plugins. It is mostly for internal use.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.abort.html">IRCPluginState.abort</a>
    is a pointer to the global abort flag. When this is set, it signals the
    rest of the program that we want to terminate cleanly.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.deferredActions.html">IRCPluginState.deferredActions</a>
    is an array of <a class="xref" href="kameloso.plugins.DeferredAction.html">DeferredAction</a>s;
    a way to defer the execution of a delegate or fiber to the main event loop,
    to be invoked with context only it has, such as knowledge of all plugins.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.messages.html">IRCPluginState.messages</a>
    is an array of <a class="xref" href="kameloso.thread.ThreadMessage.html">ThreadMessage</a>s, used by
    plugins to send messages up the stack to the main event loop. These can
    signal anything from &quot;save configuration to file&quot; to &quot;quit the program&quot;.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.priorityMessages.html">IRCPluginState.priorityMessages</a>
    is likewise an array of <a class="xref" href="kameloso.thread.ThreadMessage.html">ThreadMessage</a>s, but
    these will always be processed before those in
    <a class="xref" href="kameloso.plugins.IRCPluginState.messages.html">IRCPluginState.messages</a> are.</p><p>* <a class="xref" href="kameloso.plugins.IRCPluginState.outgoingMessages.html">IRCPluginState.outgoingMessages</a>
    is an array of <a class="xref" href="kameloso.messaging.Message.html">Message</a>s bound to be sent to the server.</p></div></div></div><div class="annotated-prototype"><div class="aggregate-prototype"><div class="attributes"><div class="versions-container">version(WithSeenPlugin)</div>final </div><span class="builtin-type">class</span> SeenPlugin  : <a class="xref parent-class" href="kameloso.plugins.IRCPlugin.html">IRCPlugin</a>  {<div class="aggregate-member"><a href="kameloso.plugins.seen.SeenPlugin.settings.html"><div class="attributes">private </div><tt class="highlighted"><span class="hid">SeenSettings</span></tt> <span class="name">settings</span>;</a></div><div class="aggregate-member"><a href="kameloso.plugins.seen.SeenPlugin.seenUsers.html"><div class="attributes">private </div><tt class="highlighted"><span class="hid">RehashingAA</span>!(<span class="type">long</span>[<span class="type">string</span>])</tt> <span class="name">seenUsers</span>;</a></div><div class="aggregate-member"><a href="kameloso.plugins.seen.SeenPlugin.seenFile.html"><div class="attributes">private <div class="uda">@<span class="name" data-ident="Resource">Resource</span> </div></div><tt class="highlighted"><span class="type">string</span></tt> <span class="name">seenFile</span>;</a></div><div class="aggregate-member"><a href="kameloso.plugins.seen.SeenPlugin.timeBetweenSaves.html"><div class="attributes">private static immutable </div><span class="builtin-type">auto</span> <span class="name">timeBetweenSaves</span>;</a></div><div class="aggregate-member"><a href="kameloso.plugins.seen.SeenPlugin.__anonymous.1.html"><tt class="highlighted"><span class="kwrd">mixin</span> <span class="hid">IRCPluginImpl</span> </tt>;</a></div><div class="aggregate-member"><a href="kameloso.plugins.common.mixins.MessagingProxy.html"><span class="builtin-type">mixintemplate</span> <span class="name">MessagingProxy</span><span class="template-params">(Flag!&quot;debug_&quot; debug_ = No.debug_)</span> via <tt class="highlighted">
<span class="kwrd">import</span> <span class="hid">kameloso</span>.<span class="hid">plugins</span>.<span class="hid">common</span>.<span class="hid">mixins</span> : <span class="hid">MessagingProxy</span>;</tt>;</a></div><div class="aggregate-member"><a href="kameloso.plugins.seen.SeenPlugin.__anonymous.2.html"><tt class="highlighted"><span class="kwrd">mixin</span> <span class="hid">MessagingProxy</span> </tt>;</a></div>}</div></div><h2 id="members"><a class="header-anchor" href="#members">Members</a></h2><h3 class="member-list-header hide-from-toc" id="mixin"><a class="header-anchor" href="#mixin">Mixins</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.seen.SeenPlugin.__anonymous.1.html">__anonymous</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="kwrd">mixin</span> <span class="hid">IRCPluginImpl</span> </tt></div></dt><dd><div><p>This mixes in functions that fully implement an
        <a class="xref" href="kameloso.plugins.IRCPlugin.html">IRCPlugin</a>. They don't do much by themselves
        other than call the module's functions, as well as implement things like
        functions that return the plugin's name, its list of bot command words, etc.
        It does this by introspecting the module and implementing itself as it sees fit.</p></div></dd><dt><a href="kameloso.plugins.seen.SeenPlugin.__anonymous.2.html">__anonymous</a><div class="simplified-prototype" style="max-width: 23ch;"><tt class="highlighted"><span class="kwrd">mixin</span> <span class="hid">MessagingProxy</span> </tt></div></dt><dd><div><p>This mixin adds shorthand functions to proxy calls to
        <a class="xref" href="kameloso.messaging.html">kameloso.messaging</a> functions, *partially applied* with the plugin's
        <a class="xref" href="kameloso.plugins.IRCPluginState.html">IRCPluginState</a> instance,
        so they can easily be called with knowledge only of the plugin symbol.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="static variable"><a class="header-anchor" href="#static variable">Static variables</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.seen.SeenPlugin.timeBetweenSaves.html">timeBetweenSaves</a><div class="simplified-prototype" style="max-width: 24ch;"><span class="builtin-type">auto</span> <span class="name">timeBetweenSaves</span>;</div></dt><dd><div><p>The amount of time after which seen users should be saved to disk.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="variable"><a class="header-anchor" href="#variable">Variables</a></h3><dl class="member-list native"><dt><a href="kameloso.plugins.seen.SeenPlugin.seenFile.html">seenFile</a><div class="simplified-prototype" style="max-width: 17ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">seenFile</span>;</div></dt><dd><div><p>The filename to which to persistently store our list of seen users
        between executions of the program.</p></div></dd><dt><a href="kameloso.plugins.seen.SeenPlugin.seenUsers.html">seenUsers</a><div class="simplified-prototype" style="max-width: 40ch;"><tt class="highlighted"><span class="hid">RehashingAA</span>!(<span class="type">long</span>[<span class="type">string</span>])</tt> <span class="name">seenUsers</span>;</div></dt><dd><div><p>Our associative array (AA) of seen users; a dictionary keyed with
        users' nicknames and with values that are UNIX timestamps, denoting when
        that user was last *seen* online.</p></div></dd><dt><a href="kameloso.plugins.seen.SeenPlugin.settings.html">settings</a><div class="simplified-prototype" style="max-width: 24ch;"><tt class="highlighted"><span class="hid">SeenSettings</span></tt> <span class="name">settings</span>;</div></dt><dd><div><p>An instance of *settings* for the Seen plugin. We will define these
        below. The members of it will be saved to and loaded from the
        configuration file, for use in our module.</p></div></dd></dl><h2 id="mixed-in-members"><a class="header-anchor" href="#mixed-in-members">Mixed In Members</a></h2><h3 id="from-mixin-ircpluginimpl-">From <tt class="highlighted"><span class="kwrd">mixin</span> <span class="hid">IRCPluginImpl</span> </tt></h3><dl class="member-list native"><dt><a href="kameloso.plugins.IRCPluginImpl.isEnabled.html">isEnabled</a><div class="simplified-prototype" style="max-width: 17ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">isEnabled</span>()</div></dt><dd><div><p>Introspects the current plugin, looking for a
        <a class="xref" href="kameloso.plugins.Settings.html">Settings</a>-annotated struct
        member that has a bool annotated with <a class="xref" href="kameloso.plugins.Enabler.html">Enabler</a>,
        which denotes it as the bool that toggles a plugin on and off.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.onEvent.html">onEvent</a><div class="simplified-prototype" style="max-width: 30ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onEvent</span>(IRCEvent event)</div></dt><dd><div><p>Forwards the supplied <a class="xref" href="dialect.defs.IRCEvent.html">IRCEvent</a> to
        <a class="xref" href="kameloso.plugins.IRCPluginImpl.onEventImpl.html">IRCPluginImpl.onEventImpl</a>.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.this.html">this</a><div class="simplified-prototype" style="max-width: 28ch;"><span class="lang-feature name">this</span>(IRCPluginState state)</div></dt><dd><div><p>Basic constructor for a plugin.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.postprocess.html">postprocess</a><div class="simplified-prototype" style="max-width: 35ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">postprocess</span>(IRCEvent event)</div></dt><dd><div><p>Lets a plugin modify an <a class="xref" href="dialect.defs.IRCEvent.html">IRCEvent</a> while it's begin
        constructed, before it's finalised and passed on to be handled.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.initResources.html">initResources</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">initResources</span>()</div></dt><dd><div><p>Writes plugin resources to disk, creating them if they don't exist.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.deserialiseConfigFrom.html">deserialiseConfigFrom</a><div class="simplified-prototype" style="max-width: 122ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">deserialiseConfigFrom</span>(string configFile, string[][string] missingEntries, string[][string] invalidEntries)</div></dt><dd><div><p>Loads configuration for this plugin from disk.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.setSettingByName.html">setSettingByName</a><div class="simplified-prototype" style="max-width: 56ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">setSettingByName</span>(string setting, string value)</div></dt><dd><div><p>Change a plugin's <a class="xref" href="kameloso.plugins.Settings.html">Settings</a>-annotated
        settings struct member by their string name.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.printSettings.html">printSettings</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">printSettings</span>()</div></dt><dd><div><p>Prints the plugin's <a class="xref" href="kameloso.plugins.Settings.html">Settings</a>-annotated settings struct.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.serialiseConfigInto.html">serialiseConfigInto</a><div class="simplified-prototype" style="max-width: 52ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">serialiseConfigInto</span>(Appender!(char[]) sink)</div></dt><dd><div><p>Gathers the configuration text the plugin wants to contribute to the
        configuration file.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.tick.html">tick</a><div class="simplified-prototype" style="max-width: 29ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">tick</span>(Duration elapsed)</div></dt><dd><div><p>Tick function. Called once every main loop iteration.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.selftest.html">selftest</a><div class="simplified-prototype" style="max-width: 38ch;"><tt class="highlighted"><span class="hid">Ternary</span></tt> <span class="name">selftest</span>(Selftester tester)</div></dt><dd><div><p>Self-test function.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.name.html">name</a><div class="simplified-prototype" style="max-width: 46ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">name</span>(bool lowercase, bool fullName)</div></dt><dd><div><p>Returns the name of the plugin.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.channelSpecificCommands.html">channelSpecificCommands</a><div class="simplified-prototype" style="max-width: 84ch;"><tt class="highlighted"><span class="hid">IRCPlugin</span>.<span class="hid">CommandMetadata</span>[<span class="type">string</span>]</tt> <span class="name">channelSpecificCommands</span>(string channelName)</div></dt><dd><div><p>Compile a list of our a plugin's oneliner commands.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.commands.html">commands</a><div class="simplified-prototype" style="max-width: 48ch;"><tt class="highlighted"><span class="hid">IRCPlugin</span>.<span class="hid">CommandMetadata</span>[<span class="type">string</span>]</tt> <span class="name">commands</span>()</div></dt><dd><div><p>Forwards to <a class="xref" href="kameloso.plugins.IRCPluginImpl.commandsImpl.html">IRCPluginImpl.commandsImpl</a>.</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.onBusMessage.html">onBusMessage</a><div class="simplified-prototype" style="max-width: 55ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onBusMessage</span>(string header, Sendable content)</div></dt><dd><div><p>Proxies a bus message to the plugin, to let it handle it (or not).</p></div></dd><dt><a href="kameloso.plugins.IRCPluginImpl.putUser.html">putUser</a><div class="simplified-prototype" style="max-width: 50ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">putUser</span>(IRCUser user, string channelName)</div></dt><dd><div><p>Inherits a user, by default into a plugin's state.</p></div></dd></dl><h2 id="inherited-members"><a class="header-anchor" href="#inherited-members">Inherited Members</a></h2><h3 id="inherited-from-kameloso.plugins.IRCPlugin"><a class="header-anchor" href="#inherited-from-kameloso.plugins.IRCPlugin">From IRCPlugin</a></h3><dl class="member-list inherited"><dt><a href="kameloso.plugins.IRCPlugin.CommandMetadata.html">CommandMetadata</a><div class="simplified-prototype" style="max-width: 24ch;"><span class="builtin-type">struct</span> <span class="name">CommandMetadata</span></div></dt><dd><div><p>Metadata about a <a class="xref" href="kameloso.plugins.IRCEventHandler.Command.html">IRCEventHandler.Command</a>- and/or
        <a class="xref" href="kameloso.plugins.IRCEventHandler.Regex.html">IRCEventHandler.Regex</a>-annotated event handler.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.state.html">state</a><div class="simplified-prototype" style="max-width: 23ch;"><tt class="highlighted"><span class="hid">IRCPluginState</span></tt> <span class="name">state</span>;</div></dt><dd><div><p>An <a class="xref" href="kameloso.plugins.IRCPluginState.html">IRCPluginState</a> instance containing variables and arrays that represent
        the current state of the plugin. Should generally be passed by reference.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.postprocess.html">postprocess</a><div class="simplified-prototype" style="max-width: 35ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">postprocess</span>(IRCEvent event)</div></dt><dd><div><p>Allows a plugin to modify an event post-parsing.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.onEvent.html">onEvent</a><div class="simplified-prototype" style="max-width: 30ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onEvent</span>(IRCEvent event)</div></dt><dd><div><p>Called to let the plugin react to a new event, parsed from the server.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.initResources.html">initResources</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">initResources</span>()</div></dt><dd><div><p>Called when the plugin is requested to initialise its disk resources.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.deserialiseConfigFrom.html">deserialiseConfigFrom</a><div class="simplified-prototype" style="max-width: 122ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">deserialiseConfigFrom</span>(string configFile, string[][string] missingEntries, string[][string] invalidEntries)</div></dt><dd><div><p>Reads serialised configuration text into the plugin's settings struct.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.serialiseConfigInto.html">serialiseConfigInto</a><div class="simplified-prototype" style="max-width: 52ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">serialiseConfigInto</span>(Appender!(char[]) sink)</div></dt><dd><div><p>Called to let the plugin contribute settings when writing the configuration file.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.setSettingByName.html">setSettingByName</a><div class="simplified-prototype" style="max-width: 56ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">setSettingByName</span>(string setting, string value)</div></dt><dd><div><p>Called when we want to change a setting by its string name.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.setup.html">setup</a><div class="simplified-prototype" style="max-width: 13ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">setup</span>()</div></dt><dd><div><p>Called at program start but before connection has been established.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.printSettings.html">printSettings</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">printSettings</span>()</div></dt><dd><div><p>Called when we want a plugin to print its <a class="xref" href="kameloso.plugins.Settings.html">Settings</a>-annotated struct of settings.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.teardown.html">teardown</a><div class="simplified-prototype" style="max-width: 16ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">teardown</span>()</div></dt><dd><div><p>Called during shutdown of a connection; a plugin's would-be destructor.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.name.html">name</a><div class="simplified-prototype" style="max-width: 46ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">name</span>(bool lowercase, bool fullName)</div></dt><dd><div><p>Returns the name of the plugin.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.commands.html">commands</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="hid">CommandMetadata</span>[<span class="type">string</span>]</tt> <span class="name">commands</span>()</div></dt><dd><div><p>Returns an array of the descriptions of the commands a plugin offers.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.channelSpecificCommands.html">channelSpecificCommands</a><div class="simplified-prototype" style="max-width: 73ch;"><tt class="highlighted"><span class="hid">CommandMetadata</span>[<span class="type">string</span>]</tt> <span class="name">channelSpecificCommands</span>(string channelName)</div></dt><dd><div><p>Returns an array of the descriptions of the channel-specific commands a
        plugin offers.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.reload.html">reload</a><div class="simplified-prototype" style="max-width: 14ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">reload</span>()</div></dt><dd><div><p>Reloads the plugin, where such is applicable.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.onBusMessage.html">onBusMessage</a><div class="simplified-prototype" style="max-width: 55ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">onBusMessage</span>(string header, Sendable content)</div></dt><dd><div><p>Called when a bus message arrives from another plugin.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.isEnabled.html">isEnabled</a><div class="simplified-prototype" style="max-width: 17ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">isEnabled</span>()</div></dt><dd><div><p>Returns whether or not the plugin is enabled in its settings.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.tick.html">tick</a><div class="simplified-prototype" style="max-width: 29ch;"><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">tick</span>(Duration elapsed)</div></dt><dd><div><p>Called on each iteration of the main loop.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.initialise.html">initialise</a><div class="simplified-prototype" style="max-width: 18ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">initialise</span>()</div></dt><dd><div><p>Called when the plugin is first loaded.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.putUser.html">putUser</a><div class="simplified-prototype" style="max-width: 50ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">putUser</span>(IRCUser user, string channelName)</div></dt><dd><div><p>Inherits a user into the plugin's state.</p></div></dd><dt><a href="kameloso.plugins.IRCPlugin.selftest.html">selftest</a><div class="simplified-prototype" style="max-width: 31ch;"><tt class="highlighted"><span class="hid">Ternary</span></tt> <span class="name">selftest</span>(Selftester )</div></dt><dd><div><p>Performs self-tests against another bot.</p></div></dd></dl><div></div></div>
		<div id="page-nav"><a class="parent" href="kameloso.html">kameloso</a> <a class="parent" href="kameloso.plugins.html">plugins</a> <a class="parent" href="kameloso.plugins.seen.html">seen</a> 
		<span class="type-separator">classes</span><ul><li><a class="class current" href="kameloso.plugins.seen.SeenPlugin.html">SeenPlugin</a></li></ul><span class="type-separator">functions</span><ul><li><a class="function" href="kameloso.plugins.seen.initResources.html">initResources</a></li><li><a class="function" href="kameloso.plugins.seen.loadSeen.html">loadSeen</a></li><li><a class="function" href="kameloso.plugins.seen.onCommandSeen.html">onCommandSeen</a></li><li><a class="function" href="kameloso.plugins.seen.onNamesReply.html">onNamesReply</a></li><li><a class="function" href="kameloso.plugins.seen.onNick.html">onNick</a></li><li><a class="function" href="kameloso.plugins.seen.onQuit.html">onQuit</a></li><li><a class="function" href="kameloso.plugins.seen.onSomeAction.html">onSomeAction</a></li><li><a class="function" href="kameloso.plugins.seen.onWHOReply.html">onWHOReply</a></li><li><a class="function" href="kameloso.plugins.seen.onWelcome.html">onWelcome</a></li><li><a class="function" href="kameloso.plugins.seen.reload.html">reload</a></li><li><a class="function" href="kameloso.plugins.seen.saveSeen.html">saveSeen</a></li><li><a class="function" href="kameloso.plugins.seen.selftest.html">selftest</a></li><li><a class="function" href="kameloso.plugins.seen.teardown.html">teardown</a></li><li><a class="function" href="kameloso.plugins.seen.updateAllObservedUsers.html">updateAllObservedUsers</a></li><li><a class="function" href="kameloso.plugins.seen.updateUser.html">updateUser</a></li></ul><span class="type-separator">manifest constants</span><ul><li><a class="manifest-constant" href="kameloso.plugins.seen.omniscientChannelPolicy.1.html">omniscientChannelPolicy</a></li></ul><span class="type-separator">mixins</span><ul><li><a class="mixin" href="kameloso.plugins.seen.__anonymous.1.html">__anonymous</a></li></ul><span class="type-separator">structs</span><ul><li><a class="struct" href="kameloso.plugins.seen.SeenSettings.html">SeenSettings</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>