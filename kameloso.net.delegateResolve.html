<!DOCTYPE html>
<html lang="en">
<head>
        <title>delegateResolve (kameloso.net.delegateResolve)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>kameloso IRC bot</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>delegateResolve</h1><div class="breadcrumbs"><a class="breadcrumb" href="kameloso.html">kameloso</a> <a class="breadcrumb" href="kameloso.net.html">net</a> </div><div><div class="documentation-comment synopsis"><div><p>Given an address and a port, resolves these and populates the array of unique
    <a class="xref" href="std.socket.Address.html">Address</a> IPs inside the passed <a class="xref" href="kameloso.net.Connection.html">Connection</a>.</p></div></div></div><div class="annotated-prototype"><div class="function-prototype"><div class="attributes">@<span class="name" data-ident="safe">safe</span> @<span class="name" data-ident="system">system</span> </div><div class="return-type"><a class="lang-feature" href="http://dpldocs.info/auto-function-return-prototype">auto</a> </div><div class="function-name">delegateResolve</div><div class="template-parameters" data-count="0"></div><div class="runtime-parameters" data-count="8"><div class="parameters-list toplevel"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="name" data-ident="Connection" href="kameloso.net.Connection.html" title="kameloso.net.Connection">Connection</a></span></span> <span class="parameter-name name" data-ident="conn"><a href="#param-conn">conn</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">const</span> <span class="builtin-type">string</span></span></span> <span class="parameter-name name" data-ident="address"><a href="#param-address">address</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">const</span> <span class="builtin-type">ushort</span></span></span> <span class="parameter-name name" data-ident="port"><a href="#param-port">port</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">const</span> <span class="builtin-type">bool</span></span></span> <span class="parameter-name name" data-ident="useIPv6"><a href="#param-useIPv6">useIPv6</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">scope</span> <span class="builtin-type">void</span> <span class="lang-feature">delegate</span><div class="parameters-list toplevel"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="name" data-ident="ResolveAttempt" href="kameloso.net.ResolveAttempt.html" title="kameloso.net.ResolveAttempt">ResolveAttempt</a></span></span></div><span class="paren">)</span></div></span></span> <span class="parameter-name name" data-ident="onSuccessDg"><a href="#param-onSuccessDg">onSuccessDg</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">scope</span> <span class="builtin-type">void</span> <span class="lang-feature">delegate</span><div class="parameters-list toplevel"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="name" data-ident="ResolveAttempt" href="kameloso.net.ResolveAttempt.html" title="kameloso.net.ResolveAttempt">ResolveAttempt</a></span></span></div><span class="paren">)</span></div></span></span> <span class="parameter-name name" data-ident="onRetryDg"><a href="#param-onRetryDg">onRetryDg</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">scope</span> <span class="builtin-type">bool</span> <span class="lang-feature">delegate</span><div class="parameters-list toplevel"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="name" data-ident="ResolveAttempt" href="kameloso.net.ResolveAttempt.html" title="kameloso.net.ResolveAttempt">ResolveAttempt</a></span></span></div><span class="paren">)</span></div></span></span> <span class="parameter-name name" data-ident="onFailureDg"><a href="#param-onFailureDg">onFailureDg</a></span></div><span class="comma">,</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><span class="storage-class">const</span> <span class="builtin-type">bool</span>*</span></span> <span class="parameter-name name" data-ident="abort"><a href="#param-abort">abort</a></span></div><span class="paren">)</span></div></div><div class="function-contracts"></div></div></div><div><h2 id="parameters"><a class="header-anchor" href="#parameters">Parameters</a></h2><dl class="parameter-descriptions"><dt id="param-conn"><a class="parameter-name" data-ident="conn" href="#param-conn">conn</a> <span class="parameter-type"><a class="xref" href="kameloso.net.Connection.html" title="kameloso.net.Connection"><span class="name" data-ident="Connection">Connection</span></a></span></dt><dd><div class="documentation-comment"><div><p>A <a class="xref" href="kameloso.net.Connection.html">Connection</a>.</p></div></div></dd><dt id="param-address"><a class="parameter-name" data-ident="address" href="#param-address">address</a> <span class="parameter-type"><span class="builtin-type">string</span></span></dt><dd><div class="documentation-comment"><div><p>String address to look up.</p></div></div></dd><dt id="param-port"><a class="parameter-name" data-ident="port" href="#param-port">port</a> <span class="parameter-type"><span class="builtin-type">ushort</span></span></dt><dd><div class="documentation-comment"><div><p>Remote port build into the <a class="xref" href="std.socket.Address.html">Address</a>.</p></div></div></dd><dt id="param-useIPv6"><a class="parameter-name" data-ident="useIPv6" href="#param-useIPv6">useIPv6</a> <span class="parameter-type"><span class="builtin-type">bool</span></span></dt><dd><div class="documentation-comment"><div><p>Whether to include resolved IPv6 addresses or not.</p></div></div></dd><dt id="param-onSuccessDg"><a class="parameter-name" data-ident="onSuccessDg" href="#param-onSuccessDg">onSuccessDg</a> <span class="parameter-type"><span class="builtin-type">void</span> <span class="lang-feature">delegate</span><div class="parameters-list"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="xref" href="kameloso.net.ResolveAttempt.html" title="kameloso.net.ResolveAttempt"><span class="name" data-ident="ResolveAttempt">ResolveAttempt</span></a></span></span></div><span class="paren">)</span></div></span></dt><dd><div class="documentation-comment"><div><p>Delegate to call on successful resolution.</p></div></div></dd><dt id="param-onRetryDg"><a class="parameter-name" data-ident="onRetryDg" href="#param-onRetryDg">onRetryDg</a> <span class="parameter-type"><span class="builtin-type">void</span> <span class="lang-feature">delegate</span><div class="parameters-list"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="xref" href="kameloso.net.ResolveAttempt.html" title="kameloso.net.ResolveAttempt"><span class="name" data-ident="ResolveAttempt">ResolveAttempt</span></a></span></span></div><span class="paren">)</span></div></span></dt><dd><div class="documentation-comment"><div><p>Delegate to call on recoverable resolution failure.</p></div></div></dd><dt id="param-onFailureDg"><a class="parameter-name" data-ident="onFailureDg" href="#param-onFailureDg">onFailureDg</a> <span class="parameter-type"><span class="builtin-type">bool</span> <span class="lang-feature">delegate</span><div class="parameters-list"><span class="paren">(</span><div class="runtime-parameter-item parameter-item"><span class="parameter-type-holder"><span class="parameter-type"><a class="xref" href="kameloso.net.ResolveAttempt.html" title="kameloso.net.ResolveAttempt"><span class="name" data-ident="ResolveAttempt">ResolveAttempt</span></a></span></span></div><span class="paren">)</span></div></span></dt><dd><div class="documentation-comment"><div><p>Delegate to call on potentially unrecoverable resolution failure.
            (The return value dictates whether to retry or not.)</p></div></div></dd><dt id="param-abort"><a class="parameter-name" data-ident="abort" href="#param-abort">abort</a> <span class="parameter-type"><span class="builtin-type">bool</span>*</span></dt><dd><div class="documentation-comment"><div><p>Pointer to the global abort flag, which -- if set -- should make
            the function return.</p></div></div></dd></dl><h2 id="examples"><a class="header-anchor" href="#examples">Examples</a></h2><div class="documentation-comment"><div><pre class="d_code highlighted"><span class="hid">Connection</span> <span class="hid">conn</span>;

<span class="type">void</span> <span class="hid">onSuccessDg</span>(<span class="hid">ResolveAttempt</span> <span class="hid">attempt</span>)
{
    <span class="hid">writeln</span>(<span class="str">&quot;Resolved IPs: &quot;</span>, <span class="hid">conn</span>.<span class="hid">ips</span>);
}

<span class="type">void</span> <span class="hid">onRetryDg</span>(<span class="hid">ResolveAttempt</span> <span class="hid">attempt</span>)
{
    <span class="hid">writeln</span>(<span class="str">&quot;Retrying...&quot;</span>);
}

<span class="type">bool</span> <span class="hid">onFailureDg</span>(<span class="hid">ResolveAttempt</span> <span class="hid">attempt</span>)
{
    <span class="hid">writeln</span>(<span class="str">&quot;Failed to resolve!&quot;</span>);
    <span class="kwrd">return</span> <span class="kwrd">false</span>;
}

<span class="kwrd">immutable</span> <span class="hid">actionAfterResolve</span> = <span class="hid">delegateResolve</span>(
    <span class="hid">conn</span>: <span class="hid">conn</span>,
    <span class="hid">address</span>: <span class="str">&quot;example.com&quot;</span>,
    <span class="hid">port</span>: <span class="num">80</span>,
    <span class="hid">useIPv6</span>: <span class="kwrd">true</span>,
    <span class="hid">onSuccessDg</span>: &amp;<span class="hid">onSuccessDg</span>,
    <span class="hid">onRetryDg</span>: &amp;<span class="hid">onRetryDg</span>,
    <span class="hid">onFailureDg</span>: &amp;<span class="hid">onFailureDg</span>,
    <span class="hid">abort</span>: <span class="hid">abort</span>);</pre></div></div></div></div>
		<div id="page-nav"><a class="parent" href="kameloso.html">kameloso</a> <a class="parent" href="kameloso.net.html">net</a> 
		<span class="type-separator">classes</span><ul><li><a class="class" href="kameloso.net.Connection.html">Connection</a></li><li><a class="class" href="kameloso.net.EmptyDataJSONException.html">EmptyDataJSONException</a></li><li><a class="class" href="kameloso.net.EmptyResponseException.html">EmptyResponseException</a></li><li><a class="class" href="kameloso.net.ErrorJSONException.html">ErrorJSONException</a></li><li><a class="class" href="kameloso.net.HTTPQueryException.html">HTTPQueryException</a></li><li><a class="class" href="kameloso.net.Querier.html">Querier</a></li><li><a class="class" href="kameloso.net.QueryResponseJSONException.html">QueryResponseJSONException</a></li><li><a class="class" href="kameloso.net.SSLException.html">SSLException</a></li><li><a class="class" href="kameloso.net.SSLFileException.html">SSLFileException</a></li><li><a class="class" href="kameloso.net.SocketSendException.html">SocketSendException</a></li><li><a class="class" href="kameloso.net.UnexpectedJSONException.html">UnexpectedJSONException</a></li></ul><span class="type-separator">functions</span><ul><li><a class="function" href="kameloso.net.connectFiber.html">connectFiber</a></li><li><a class="function current" href="kameloso.net.delegateResolve.html">delegateResolve</a></li><li><a class="function" href="kameloso.net.issueSyncHTTPRequest.html">issueSyncHTTPRequest</a></li><li><a class="function" href="kameloso.net.listenFiber.html">listenFiber</a></li><li><a class="function" href="kameloso.net.openSSLIsInstalled.html">openSSLIsInstalled</a></li></ul><span class="type-separator">structs</span><ul><li><a class="struct" href="kameloso.net.ConnectionAttempt.html">ConnectionAttempt</a></li><li><a class="struct" href="kameloso.net.HTTPQueryResponse.html">HTTPQueryResponse</a></li><li><a class="struct" href="kameloso.net.HTTPRequest.html">HTTPRequest</a></li><li><a class="struct" href="kameloso.net.ListenAttempt.html">ListenAttempt</a></li><li><a class="struct" href="kameloso.net.ResolveAttempt.html">ResolveAttempt</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>